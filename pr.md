# Выполнено ДЗ № 4
 - [X] Основное ДЗ
 - [X] Задание со *
 - [X] Задание со **
 - [X] Задание со ***

## В процессе сделано:
  - поднял контейнер с прометеем http://docker1.aits.life:9090/alerts, поигрался с графиками, паданием сервисов
  - поднял нод-экспортер, пробросил его в сеть с прометеем, положил CPU с докер-хоста :)
  - залил все имаджи на [hub.docker.com](https://hub.docker.com/u/vasyakrg)

### Задание со *
  - подключил мониторинг Mongodb, через свой контейнер с экспортером на основе [Percona](https://github.com/percona/mongodb_exporter) MongoDB Exporter
  - для проекта достаточно менять переменную MONGODB_URI=mongodb://**post_db**:27017

### Задание со **
  - подключил blackbox-exporter, поиграл с модулями, подключил тесты порта 9292 и пинга других приложений
  - cloudprober просмотрел, понял и простил.

### Задание со ***
  - прописал make с разной степенью функционала, идею оформления не выдумывал, подсмотрел, честно спёр - это не спёр, это - адаптировал :)
  - .docker-creds файл с паролем от докер-хаба должен лежать в корне репы
  - в самом мейке переменная DOCKER_REPO - определяет логин от докер-хаба

### От себя
  - вишенку в этой раз выбрал - alertmanager - http://docker1.aits.life:9093
  - как ни бился, так и не смог придумать, как спрятать slack_api_url
  - монтировать конфиг на уровне docker-machine не получилось, прокидывать переменные (точнее подгружать их в alertmanager налету) тоже
  - в итоге токен в открытом виде.
  - знаю, что дальше будет кубик, там все проще с секретами. поэтому решил не заморачиваться дальше.

## PR checklist
  - [X] Выставил label monitoring
  - [X] Выставил label monitoring-1
